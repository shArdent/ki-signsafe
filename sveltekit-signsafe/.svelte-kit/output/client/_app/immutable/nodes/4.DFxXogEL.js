import{t as _,a as x}from"../chunks/D5yI2wqk.js";import{i as D}from"../chunks/BumpSI4p.js";import{p as L,g as t,a as T,c as o,s as c,m as f,y as I,r as n,b as v,t as J}from"../chunks/MYc6eXHu.js";import{e as M,s as P}from"../chunks/Vyx9v3T8.js";import{i as S}from"../chunks/DWZY7GPS.js";import{b as w,r as y,a as U}from"../chunks/Bv7EZ9Xw.js";import{g as W}from"../chunks/DoHTRtBx.js";function z(a){return function(...s){var r=s[0];return r.preventDefault(),a==null?void 0:a.apply(this,s)}}var A=_('<p class="mb-4 text-sm text-red-500"> </p>'),B=_('<div class="flex min-h-screen items-center justify-center bg-gray-50"><div class="w-full max-w-md rounded-lg bg-white p-8 shadow-md"><h2 class="mb-6 text-2xl font-semibold">Login JWT</h2> <!> <form class="space-y-4"><input type="text" placeholder="Username" class="w-full rounded-md border px-4 py-2 focus:ring-2 focus:ring-blue-500 focus:outline-none" required> <input type="password" placeholder="Password" class="w-full rounded-md border px-4 py-2 focus:ring-2 focus:ring-blue-500 focus:outline-none" required> <button type="submit" class="w-full rounded-md bg-blue-600 py-2 text-white transition hover:bg-blue-700">Masuk</button></form></div></div>');function O(a,s){L(s,!1);let r=f(""),i=f(""),l=f("");async function k(){try{const{data:e}=await U.post("http://localhost:8001/api/auth/login",{username:t(r),password:t(i)});localStorage.setItem("token",e.token),W("/jwt")}catch(e){console.log(e),v(l,"Terjadi kesalahan saat menghubungi server.")}}D();var u=B(),b=o(u),g=c(o(b),2);{var j=e=>{var d=A(),q=o(d,!0);n(d),J(()=>P(q,t(l))),x(e,d)};S(g,e=>{t(l)&&e(j)})}var p=c(g,2),m=o(p);y(m);var h=c(m,2);y(h),I(2),n(p),n(b),n(u),w(m,()=>t(r),e=>v(r,e)),w(h,()=>t(i),e=>v(i,e)),M("submit",p,z(k)),x(a,u),T()}export{O as component};
